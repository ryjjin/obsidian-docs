ファイルリカバリーは、ヒューマンエラーや停電、不正なプラグインやスクリプトなどのあらゆる種類のアクシデントに備えてデータ復元を行えるようにユーザーを支援するコアプラグインです。

すでにデータ損失が起きてしまってからこのプラグインを有効化していては手遅れになってしまうため、ファイルリカバリーはデフォルトの状態で有効化されています。

## 使い方

### スナップショット

このプラグインが有効化されている限り、作業中のファイルに関する完全なスナップショットが一定のインターバルごとに保存されます(このインターバルは設定できます)。スナップショットは一定の保持期間後に削除されます。

このプロセスは自動的に実行されます。スナップショットはデフォルトで5分ごとに作成され、7日間保持されます。

### 復元

データ損失に備えて、保存されたスナップショットは以下の手順で確認することができます。

1. 設定を開きます。
2. ｢プラグインオプション｣の下にある｢ファイルリカバリー｣のタブを開きます。
3. ｢スナップショット｣セクションにある｢閲覧｣ボタンをクリックします。
4. 左側の検索バーに復元したいファイルの名称を入力します。ファイル名が表示されない場合、そのファイル用に保存されたスナップショットが存在しないということを意味しています。
5. ドロップダウンリストからファイルを選択した後、スナップショットのリストが左側に表示されます。復元したいものを選択してください。
6. 選択したスナップショットの内容は右側に表示されます。｢クリップボードにコピー｣をクリックすることで内容全体をコピーでき、部分的に選択してコピーすることもできます。

## オプション

### スナップショットのインターバル

2つのスナップショット間での分単位の最小間隔はデフォルトで5分となっています。

### 履歴の期間

スナップショットが保持される日数はデフォルトで7日間となっています。

### 履歴のクリア

すべての履歴を削除するオプションもあります。==この実行は元に戻せないので注意してください。==

## データストレージ

ファイルリカバリーにより作成されるデータは、保管庫の機能不全が起きた場合に備えて[[Obsidianにおけるデータの保存#システムディレクトリ|システムディレクトリ]]内に保存されます。

保管庫は絶対パスによって関連付けられています。保管庫を移動させた場合、移動前に作成されたスナップショットを復元するためには保管庫を元の位置に戻す必要があります。